import{j as e}from"./jsx-runtime.BG36-YHJ.js";import{r}from"./index.y5FlbPQu.js";function m(){const[s,l]=r.useState([]),[i,c]=r.useState(!0),n=async()=>{try{const t=await fetch("/api/n8n/executions");if(t.ok){const x=await t.json();l(x.executions||[])}}catch(t){console.error("Failed to fetch executions:",t)}finally{c(!1)}};r.useEffect(()=>{n();const t=setInterval(n,3e3);return()=>clearInterval(t)},[]);const o=t=>{switch(t){case"running":return"text-yellow-400 bg-yellow-400/20";case"success":return"text-green-400 bg-green-400/20";case"error":return"text-red-400 bg-red-400/20";case"waiting":return"text-blue-400 bg-blue-400/20";default:return"text-white/50 bg-white/10"}},u=t=>{switch(t){case"running":return e.jsx("div",{className:"w-3 h-3 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin"});case"success":return e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})});case"error":return e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})});default:return e.jsx("div",{className:"w-3 h-3 rounded-full bg-current"})}},d=t=>new Date(t).toLocaleTimeString(),a=s.filter(t=>t.status==="running").length;return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-white/50 uppercase tracking-wider",children:"Executions"}),a>0&&e.jsxs("span",{className:"px-2 py-0.5 text-xs bg-yellow-400/20 text-yellow-400 rounded-full",children:[a," running"]})]}),i?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-5 h-5 border-2 border-violet-400 border-t-transparent rounded-full animate-spin"})}):s.length===0?e.jsx("div",{className:"text-white/40 text-sm text-center py-8",children:"No recent executions"}):e.jsx("div",{className:"space-y-2 overflow-y-auto flex-1",children:s.map(t=>e.jsxs("div",{className:"p-2 bg-white/5 rounded-lg border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`p-1 rounded ${o(t.status)}`,children:u(t.status)}),e.jsx("span",{className:"text-xs text-white/70 truncate flex-1",children:t.workflowName||"Unknown workflow"})]}),e.jsxs("div",{className:"text-xs text-white/40 flex justify-between",children:[e.jsx("span",{children:d(t.startedAt)}),e.jsx("span",{className:"capitalize",children:t.status})]})]},t.id))}),e.jsx("a",{href:"http://localhost:5678/executions",target:"_blank",rel:"noopener noreferrer",className:"mt-4 text-xs text-violet-400 hover:text-violet-300 text-center block",children:"View all in n8n â†’"})]})}export{m as default};
